# API

## Spis treści

- [Rejestracja biblioteki](https://github.com/KrzysztofZawisla/WasmQuery/wiki/API-%5BPolish%5D#rejestracji-biblioteki)
- [Moduł ShortQuery](https://github.com/KrzysztofZawisla/WasmQuery/wiki/API-%5BPolish%5D#modu%C5%82-shortquery)
  - [Ogólna składnia](https://github.com/KrzysztofZawisla/WasmQuery/wiki/API-%5BPolish%5D#og%C3%B3lna-sk%C5%82adnia)
  - [Funkcja addClass](https://github.com/)
  - [Funkcja removeClass](https://github.com/)
  - [Funkcja toggleClass](https://github.com/)
  - [Funkcja css](https://github.com/)
  - [Funkcja width](https://github.com/)
  - [Funkcja height](https://github.com/)
  - [Funkcja innerWidth](https://github.com/)
  - [Funkcja innerHeight](https://github.com/)
  - [Funkcja outerWidth](https://github.com/)
  - [Funkcja outerHeight](https://github.com/)
  - [Funkcja attr](https://github.com/)
  - [Funkcja removeAttr](https://github.com/)
  - [Funkcja eve](https://github.com/)
  - [Funkcja odd](https://github.com/)
  - [Funkcja html](https://github.com/)
  - [Funkcja hasClass](https://github.com/)
  - [Funkcja hide](https://github.com/)
  - [Funkcja show](https://github.com/)
  - [Funkcja showAsBlock](https://github.com/)
  - [Funkcja showAsInline](https://github.com/)
  - [Funkcja showAsInlineBlock](https://github.com/)
  - [Funkcja showAsFlex](https://github.com/)
  - [Funkcja val](https://github.com/)
  - [Funkcja len](https://github.com/)
- [Moduł Time](https://github.com/KrzysztofZawisla/WasmQuery/wiki/API-%5BPolish%5D#modu%C5%82-timequery)
  - [Funkcja now](https://github.com/KrzysztofZawisla/WasmQuery/wiki/API-%5BPolish%5D#funkcja-now)
  - [Funkcja year](https://github.com/KrzysztofZawisla/WasmQuery/wiki/API-%5BPolish%5D#funkcja-year)
  - [Funkcja month](https://github.com/KrzysztofZawisla/WasmQuery/wiki/API-%5BPolish%5D#funkcja-month)
  - [Funkcja day](https://github.com/KrzysztofZawisla/WasmQuery/wiki/API-%5BPolish%5D#funkcja-day)
  - [Funkcja hour](https://github.com/KrzysztofZawisla/WasmQuery/wiki/API-%5BPolish%5D#funkcja-hour)
  - [Funkcja minute](https://github.com/KrzysztofZawisla/WasmQuery/wiki/API-%5BPolish%5D#funkcja-minute)
  - [Funkcja second](https://github.com/KrzysztofZawisla/WasmQuery/wiki/API-%5BPolish%5D#funkcja-second)
  - [Funkcja nanosecond](https://github.com/KrzysztofZawisla/WasmQuery/wiki/API-%5BPolish%5D#funkcja-nanosecond)
- [Moduł Crypto](https://github.com/KrzysztofZawisla/WasmQuery/wiki/API-%5BPolish%5D#modu%C5%82-crypto)
  - [Funkcja sha1](https://github.com/KrzysztofZawisla/WasmQuery/wiki/API-%5BPolish%5D#funkcja-sha1)
  - [Funkcja sha224](https://github.com/KrzysztofZawisla/WasmQuery/wiki/API-%5BPolish%5D#funkcja-sha224)
  - [Funkcja sha256](https://github.com/KrzysztofZawisla/WasmQuery/wiki/API-%5BPolish%5D#funkcja-sha256)
  - [Funkcja sha384](https://github.com/KrzysztofZawisla/WasmQuery/wiki/API-%5BPolish%5D#funkcja-sha384)
  - [Funkcja sha512](https://github.com/KrzysztofZawisla/WasmQuery/wiki/API-%5BPolish%5D#funkcja-sha512)
  - [Funkcja sha512_224](https://github.com/KrzysztofZawisla/WasmQuery/wiki/API-%5BPolish%5D#funkcja-sha512_224)
  - [Funkcja sha512_256](https://github.com/KrzysztofZawisla/WasmQuery/wiki/API-%5BPolish%5D#funkcja-sha512_256)
  - [Funkcja sha3_224](https://github.com/KrzysztofZawisla/WasmQuery/wiki/API-%5BPolish%5D#funkcja-sha3_224)
  - [Funkcja sha3_256](https://github.com/KrzysztofZawisla/WasmQuery/wiki/API-%5BPolish%5D#funkcja-sha3_256)
  - [Funkcja sha3_384](https://github.com/KrzysztofZawisla/WasmQuery/wiki/API-%5BPolish%5D#funkcja-sha3_384)
  - [Funkcja sha3_512](https://github.com/KrzysztofZawisla/WasmQuery/wiki/API-%5BPolish%5D#funkcja-sha3_512)
  - [Funkcja md4](https://github.com/KrzysztofZawisla/WasmQuery/wiki/API-%5BPolish%5D#funkcja-md4)
  - [Funkcja md5](https://github.com/KrzysztofZawisla/WasmQuery/wiki/API-%5BPolish%5D#funkcja-md5)
- [Moduł Hash](https://github.com/KrzysztofZawisla/WasmQuery/wiki/API-%5BPolish%5D#modu%C5%82-hash)
  - [Funkcja adler32](https://github.com/KrzysztofZawisla/WasmQuery/wiki/API-%5BPolish%5D#funkcja-adler32)
  - [Funkcja fnv1_32](https://github.com/KrzysztofZawisla/WasmQuery/wiki/API-%5BPolish%5D#funkcja-fnv1_32)
  - [Funkcja fnv1a_32](https://github.com/KrzysztofZawisla/WasmQuery/wiki/API-%5BPolish%5D#funkcja-fnv1a_32)
  - [Funkcja fnv1_64](https://github.com/KrzysztofZawisla/WasmQuery/wiki/API-%5BPolish%5D#funkcja-fnv1_64)
  - [Funkcja fnv1a_64](https://github.com/KrzysztofZawisla/WasmQuery/wiki/API-%5BPolish%5D#funkcja-fnv1a_64)
  - [Funkcja fnv1_128](https://github.com/KrzysztofZawisla/WasmQuery/wiki/API-%5BPolish%5D#funkcja-fnv1_128)
  - [Funkcja fnv1a_128](https://github.com/KrzysztofZawisla/WasmQuery/wiki/API-%5BPolish%5D#funkcja-fnv1a_128)
- [Moduł Math](https://github.com/KrzysztofZawisla/WasmQuery/wiki/API-%5BPolish%5D#modu%C5%82-math)

### Rejestracji biblioteki

Aby zaimplementować rozwiązania z biblioteki musisz ją najpierw zarejestrować. Bez tego nie będziesz miał dostępu do funkcji w niej zawartych. Jest to forma inicjalizacji biblioteki.

Sygnatura funkcji:

```ts
registerWasmQuery(): void;
registerWasmQuery(selector: string): void;
registerWasmQuery(selectors: string[]): void;
```

Przykład wykorzystania:

```ts
registerWasmQuery(); // rejestruje bibliotekę pod znakiem $
registerWasmQuery("wasmQuery"); // rejestruje bibliotekę pod podaną przez programistę nazwę
registerWasmQuery(["$", "wasmQuery", "test"]); // rejestruje bibliotekę pod wiele nazw podanych przez programistę
```

[Odpowiednik w GO](https://github.com/KrzysztofZawisla/WasmQuery/blob/master/src/go-src/core/wasmQueryRegisterLibrary.go) jest dostępny w pakiecie `core` i pliku `wasmQueryRegisterLibrary.go` pod funkcją o nazwie `WasmQueryRegisterLibrary`

***

## Obsługa błędów

WebAssebmly nie dosponuje mechanizmem `try... catch` oraz `throw` więc dlatego wszystkie błędy są zwracane w postaci zwykłych wartości. Jeśli chcemy sprawdzić czy został zwrócony błąd to wykonamy porównanie do instancji `Error`:

```ts
const ourReturn = await $.geolocation.latitude();
if(ourReturn instanceof Error) {
    // mamy błąd
}
```

Wersja dla tablic:

```ts
const ourReturn = $.math.abs([-12, -3, "test"]);
for(let i = 0; i < ourReturn.length; i++) {
    if(ourReturn[i] instanceof Error) {
        // mamy błąd
    }
}
```

## Moduł ShortQuery

Dostęp do modułu uzyskamy poprzez:

```ts
$: Function;
```

Moduł ten w dość mocnym stopniu wzoruje się na [jQuery](https://jquery.com/). Zasada działania jest podobna do wspomnianego już [jQuery](https://jquery.com/) lecz nie identyczna. Pozwoliliśmy sobie rozbudować ideę „Write Less, Do More” poprzez zmianę sposobu działania konstruktora. W ShortQuery konstruktor zwraca tablice elementów wraz ze swoimi funkcjami oraz dodaje dla każdego elementu z tablicy funkcję która jest odpowiednikiem wykonywanym na całym zbiorze czyli tablicy. W skrócie dzięki temu rozwiązaniu możemy wywoływać funkcje dla poszczególnych elementów w ten sposób:

```ts
$("selektor")[indeks].funkcja();
```

Dodatkowo zastąpiliśmy model łańcuchowych wykonań funkcji na operacje tablicowe co jeszcze bardziej pozwoliło skrócić ilość kodu. Dla przykładu nadanie trzem elementom o klasie `test` atrybutu `alt` oraz `src` nie wygląda tak:

```ts
$(".test").attr("alt", "Nosacz Sundajski").attr("src", "https://upload.wikimedia.org/wikipedia/commons/thumb/8/82/Proboscis_Monkey.jpg/240px-Proboscis_Monkey.jpg");
```

tylko tak:

```ts
$(".test").attr(["alt", "src"], ["Nosacz Sundajski", "https://upload.wikimedia.org/wikipedia/commons/thumb/8/82/Proboscis_Monkey.jpg/240px-Proboscis_Monkey.jpg"]);
```

### Ogólna składnia

```ts
$("selektor").funkcja();
```

Kilka przykładowych wywołań funkcji na zbiorze DOM elementów:

```ts
$(".test").css("color", "red");
$("#test").attr("src", "https://www.youtube.com/watch?v=dQw4w9WgXcQ");
$("input").val("taco, burrito, etc.");
$("a").href("https://www.youtube.com/watch?v=PGNiXGX2nLU");
```

Jeśli chcemy wywołać tylko na jednym DOM elemencie daną funkcję możemy podać indeks tablicy np.:

```ts
$(".test")[0].css("color", "fuchsia");
$("#test")[1].toggleClass("alert");
$("input")[2].css("border-radius", "15px");
$("h2")[3].hide();
```

***

## Moduł Time

Dostęp do modułu uzyskamy poprzez:

```ts
$.time: Object;
```

Moduł ten pozwala na uzyskania szczegółowych informacji o czasie/dacie oraz na manipulacje nim/nią.

### Funkcja now

Funkcja ta zwraca pełną aktualną datę według formatu w GO.

Sygnatura funkcji:

```ts
$.time.now(): string;
```

### Funkcja year

Funkcja ta zwraca aktualny rok.

Sygnatura funkcji:

```ts
$.time.year(): string;
```

### Funkcja month

Funkcja ta zwraca aktualny miesiąc.

Sygnatura funkcji:

```ts
$.time.month(): string;
```

### Funkcja day

Funkcja ta zwraca aktualny dzień miesiąca.

Sygnatura funkcji:

```ts
$.time.day(): string;
```

### Funkcja hour

Funkcja ta zwraca aktualną godzinę.

Sygnatura funkcji:

```ts
$.time.hour(): string;
```

### Funkcja minute

Funkcja ta zwraca aktualną minutę.

Sygnatura funkcji:

```ts
$.time.minute(): string;
```

### Funkcja second

Funkcja ta zwraca aktualną sekundę.

Sygnatura funkcji:

```ts
$.time.second(): string;
```

### Funkcja nanosecond

Funkcja ta zwraca aktualną nanosekundę.

Sygnatura funkcji:

```ts
$.time.nanosecond(): string;
```

***

## Moduł Crypto

Dostęp do modułu uzyskamy poprzez:

```ts
$.crypto: Object;
```

Moduł ten pozwala wykorzystanie popularnych algorytmów szyfrujących/haszujących.

### Funkcja sha1

Funkcja ta tworzy hash sha1.

```ts
$.crypto.sha1(value: string): string;
```

### Funkcja sha224

Funkcja ta tworzy hash sha2 - 224.

```ts
$.crypto.sha224(value: string): string;
```

### Funkcja sha256

Funkcja ta tworzy hash sha2 - 256.

```ts
$.crypto.sha256(value: string): string;
```

### Funkcja sha384

Funkcja ta tworzy hash sha2 - 384.

```ts
$.crypto.sha384(value: string): string;
```

### Funkcja sha512

Funkcja ta tworzy hash sha2 - 512.

```ts
$.crypto.sha512(value: string): string;
```

### Funkcja sha512_224

Funkcja ta tworzy hash sha2 - 512/224.

```ts
$.crypto.sha512_224(value: string): string;
```

### Funkcja sha512_256

Funkcja ta tworzy hash sha2 - 512/256.

```ts
$.crypto.sha512_256(value: string): string;
```

### Funkcja sha3_224

Funkcja ta tworzy hash sha3 - 224.

```ts
$.crypto.sha3_224(value: string): string;
```

### Funkcja sha3_256

Funkcja ta tworzy hash sha3 - 256.

```ts
$.crypto.sha3_256(value: string): string;
```

### Funkcja sha3_384

Funkcja ta tworzy hash sha3 - 384.

```ts
$.crypto.sha3_384(value: string): string;
```

### Funkcja sha3_512

Funkcja ta tworzy hash sha3 - 512.

```ts
$.crypto.sha3_512(value: string): string;
```

### Funkcja md4

Funkcja ta tworzy hash md4.

```ts
$.crypto.md4(value: string): string;
```

### Funkcja md5

Funkcja ta tworzy hash md5.

```ts
$.crypto.md5(value: string): string;
```

### Funkcja keccak256

Funkcja ta tworzy hash keccak256.

```ts
$.crypto.keccak256(value: string): string;
```

### Funkcja keccak512

Funkcja ta tworzy hash keccak512.

```ts
$.crypto.keccak512(value: string): string;
```

***

## Moduł Hash

Dostęp do modułu uzyskamy poprzez:

```ts
$.hash: Object;
```

Moduł ten pozwala wykorzystanie popularnych algorytmów haszujących.

### Funkcja adler32

Funkcja ta tworzy hash adler32.

```ts
$.hash.adler32(value: string): string;
$.hash.adler32(values: string[]): string[];
```

### Funkcja fnv1_32

Funkcja ta tworzy hash fnv1_32.

```ts
$.hash.fnv1_32(value: string): string;
$.hash.fnv1_32(values: string[]): string[];
```

### Funkcja fnv1a_32

Funkcja ta tworzy hash fnv1a_32.

```ts
$.hash.fnv1a_32(value: string): string;
```

### Funkcja fnv1_64

Funkcja ta tworzy hash fnv1_64.

```ts
$.hash.fnv1_64(value: string): string;
```

### Funkcja fnv1a_64

Funkcja ta tworzy hash fnv1a_64.

```ts
$.hash.fnv1a_64(value: string): string;
```

### Funkcja fnv1_128

Funkcja ta tworzy hash fnv1_128.

```ts
$.hash.fnv1_128(value: string): string;
```

### Funkcja fnv1a_128

Funkcja ta tworzy hash fnv1a_128.

```ts
$.hash.fnv1a_128(value: string): string;
```

***

## Moduł Math

Dostęp do modułu uzyskamy poprzez:

```ts
$.math: Object;
```

Moduł ten udostępnia różne wartości i funkcje matematyczne.

### Funkcja abs

Funkcja ta zwraca nam wartości absolutne od podanych wartości.

```ts
$.math.abs(value: number): number;
$.math.abs([...values: number[]]): number[];
```

***

## Moduł Geolocation

Dostęp do modułu uzyskamy poprzez:

```ts
$.geolocation: Object;
```

Moduł ten udostępnia informacje na temat geolokacji.

### Funkcja latitude

Funkcja ta zwraca szerokość geograficzną urządzenia na którym jest wykonywana.

```ts
$.geolocation.latitude(): Promise;
await $.geolocation.latitude(): number | PositionError;
```

### Funkcja longitude

Funkcja ta zwraca długość geograficzną urządzenia na którym jest wykonywana.

```ts
$.geolocation.longitude(): Promise;
await $.geolocation.longitude(): number | PositionError;
```

***

## Moduł secure

Dostęp do modułu uzyskamy poprzez:

```ts
$.secure: Object;
```

Moduł ten udostępnia funkcje które pozwolą lepiej zabezpieczyć twoją stronę internetową.  

### Funkcja secureLinks  

Funkcja ta zabezpiecza wszystkie tagi A na stronie poprzez dodanie do atrybuty rel wartości: noopener, noreferrer.

```ts
$.secure.secureLinks(): void;
```

### Funkcja redirectToHTTPS

Funkcja ta przekierowuje użytkownika na https wersję strony na której się znajduje.

```ts
$.secure.redirectToHTTPS(): boolean;
```
